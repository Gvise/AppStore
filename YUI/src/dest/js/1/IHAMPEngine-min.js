ih.defineClass("ih.AMPEngine",null,null,function(a,b){b.prototype.name="ihakula.ampEngine";b.prototype.version="1.0";b.prototype.root=null;b.prototype.init=function(c){ih.plugins={};this.initFromConfXMLFile(c);this.pubsub=new ih.PubSub()};b.prototype.initFromConfXMLFile=function(d){var e=this;var c=new ih.XML();var f=c.createDOMDocument();f.onreadystatechange=function(){if(this.readystate==4){var h=this.documentElement.getElementsByTagName("plugin");var g=h[0];e.root=new ih.AMPPlugin(g.getAttribute("path"))}};f.load(d)}});